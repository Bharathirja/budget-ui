import{Aa as re,C as F,D as T,E as I,F as H,G as N,Ga as ne,H as b,Ha as me,I as R,Ia as le,Ja as ce,K as k,Ka as de,L as $,La as se,M as A,Ma as pe,N as B,Na as ue,Oa as fe,P as G,Pa as Ce,Qa as ge,S as U,Sa as he,T as j,U as P,V,Y as W,ba as q,ca as L,da as O,ea as z,ga as J,ha as K,i as v,ia as Q,j as D,ja as X,k as x,ka as Y,pa as Z,q as E,qa as ee,ra as te,ta as ie,ua as ae,za as oe}from"./chunk-H2R5YDVN.js";import{$b as h,Cc as M,Ec as y,Nb as c,Ob as i,Pb as a,Qb as p,Ub as u,Vb as f,aa as _,bb as m,fa as C,lc as w,nb as S,pc as o,rc as g,sb as s}from"./chunk-RLIR3CAQ.js";var Me=(()=>{let t=class t{constructor(){this.http=C(E),this.baseUrl="http://127.0.0.1:8000/api/v1/budget/"}getCategories(){return this.http.get(`${this.baseUrl}categories/`)}addCategory(r){return this.http.post(`${this.baseUrl}categories/`,r)}getTransactions(r){return this.http.get(`${this.baseUrl}transactions/`,{params:r})}addTransaction(r){return this.http.post(`${this.baseUrl}transactions/`,r)}};t.\u0275fac=function(d){return new(d||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function _e(e,t){e&1&&(i(0,"th",31),o(1," Name "),a())}function Se(e,t){if(e&1&&(i(0,"td",32)(1,"div",33)(2,"div")(3,"h6",34),o(4),a()()()()),e&2){let n=t.$implicit;m(4),g(" ",n.category_name," ")}}function we(e,t){e&1&&(i(0,"th",35),o(1," Description "),a())}function ve(e,t){if(e&1&&(i(0,"td",36)(1,"h6",37)(2,"span",38),o(3),M(4,"slice"),a()()()),e&2){let n=t.$implicit;m(3),g("",(n.description==null?null:n.description.length)>50?y(4,1,n.description,-20)+"...":n.description," ")}}function De(e,t){e&1&&(i(0,"th",35),o(1," Created Date "),a())}function xe(e,t){if(e&1&&(i(0,"td",39)(1,"h6",34),o(2),M(3,"date"),a()()),e&2){let n=t.$implicit;m(2),g(" ",y(3,1,n.created_at,"medium")," ")}}function Ee(e,t){e&1&&p(0,"th",40)}function Fe(e,t){if(e&1&&(i(0,"td",39)(1,"button",41)(2,"mat-icon"),o(3,"more_vert"),a()(),i(4,"mat-menu",null,0)(6,"button",42)(7,"mat-icon"),o(8,"edit"),a(),i(9,"span"),o(10,"Edit"),a()(),i(11,"button",42)(12,"mat-icon"),o(13,"delete"),a(),i(14,"span"),o(15,"Delete"),a()()()()),e&2){let n=w(5);m(),c("matMenuTriggerFor",n)}}function Te(e,t){e&1&&p(0,"tr",43)}function Ie(e,t){e&1&&p(0,"tr",44)}var mt=(()=>{let t=class t{constructor(){this.displayedColumns1=["category_name","description","created_at","actions"],this.dataSource1=[],this.categoryService=C(Me),this.categoryForm=new N({category_name:new b(null,T.required),description:new b})}ngOnInit(){this.getAllCategories()}getAllCategories(){this.categoryService.getCategories().subscribe(r=>{console.log(r),this.dataSource1=r.results})}onSubmit(){this.categoryForm.valid&&(console.log(this.categoryForm.value),this.categoryService.addCategory(this.categoryForm.value).subscribe(r=>{console.log("Category added successfully",r),this.categoryForm.reset(),this.getAllCategories()},r=>{console.error("Error adding category",r)}))}onCancel(){this.categoryForm.reset()}};t.\u0275fac=function(d){return new(d||t)},t.\u0275cmp=S({type:t,selectors:[["app-category"]],decls:42,vars:5,consts:[["menu","matMenu"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"b-t-1"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-lg-6"],[1,"f-w-600","m-b-8","d-block"],[1,"text-error"],["appearance","outline","color","primary",1,"w-100"],["matInput","","placeholder","Enter Category Name","formControlName","category_name"],["matInput","","type","text","placeholder","Enter Description","formControlName","description"],[1,"m-t-12"],["mat-flat-button","","color","primary","type","submit",1,"m-r-8",3,"disabled"],["mat-stroked-button","","color","warn","type","button",3,"click"],[1,"cardWithShadow"],[1,"table-responsive"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","category_name"],["mat-header-cell","","class","f-w-600 f-s-16 p-l-0",4,"matHeaderCellDef"],["mat-cell","","class","p-l-0",4,"matCellDef"],["matColumnDef","description"],["mat-header-cell","","class","f-w-600 f-s-16 ",4,"matHeaderCellDef"],["mat-cell","","class","w-10",4,"matCellDef"],["matColumnDef","created_at"],["mat-header-cell","","class","f-w-600 f-s-16",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","","class","f-w-600 f-s-14",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"f-w-600","f-s-16","p-l-0"],["mat-cell","",1,"p-l-0"],[1,"d-flex","align-items-center"],[1,"f-s-14","f-w-600"],["mat-header-cell","",1,"f-w-600","f-s-16"],["mat-cell","",1,"w-10"],[1,"f-s-14","m-b-4"],[1,"text-dark","f-w-600"],["mat-cell",""],["mat-header-cell","",1,"f-w-600","f-s-14"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["mat-menu-item",""],["mat-header-row",""],["mat-row",""]],template:function(d,l){d&1&&(i(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title",2),o(3,"Add New Category"),a()(),i(4,"mat-card-content",3)(5,"form",4),h("ngSubmit",function(){return l.onSubmit()}),i(6,"div",5)(7,"div",6)(8,"mat-label",7),o(9,"Name "),i(10,"span",8),o(11,"*"),a()(),i(12,"mat-form-field",9),p(13,"input",10),a()(),i(14,"div",6)(15,"mat-label",7),o(16,"Description"),a(),i(17,"mat-form-field",9),p(18,"textarea",11),a()()(),i(19,"div",12)(20,"button",13),o(21,"Submit"),a(),i(22,"button",14),h("click",function(){return l.onCancel()}),o(23,"Cancel"),a()()()()(),i(24,"mat-card",15)(25,"mat-card-content")(26,"div",16)(27,"table",17),u(28,18),s(29,_e,2,0,"th",19)(30,Se,5,1,"td",20),f(),u(31,21),s(32,we,2,0,"th",22)(33,ve,5,4,"td",23),f(),u(34,24),s(35,De,2,0,"th",25)(36,xe,4,4,"td",26),f(),u(37,27),s(38,Ee,1,0,"th",28)(39,Fe,16,1,"td",26),f(),s(40,Te,1,0,"tr",29)(41,Ie,1,0,"tr",30),a()()()()),d&2&&(m(5),c("formGroup",l.categoryForm),m(15),c("disabled",l.categoryForm.invalid),m(7),c("dataSource",l.dataSource1),m(13),c("matHeaderRowDef",l.displayedColumns1),m(),c("matRowDefColumns",l.displayedColumns1))},dependencies:[q,U,G,J,A,R,F,I,H,B,k,$,z,W,V,P,ae,Z,te,ie,ee,O,L,j,ge,ne,le,pe,ce,me,ue,de,se,fe,Ce,x,he,Q,K,X,oe,re,Y,D,v],encapsulation:2});let e=t;return e})();export{Me as a,mt as b};
