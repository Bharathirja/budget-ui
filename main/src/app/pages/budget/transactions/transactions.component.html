

<!-- <mat-card class="cardWithShadow">
    <mat-card-content>
        <app-common-table
			(addNew)="navigateToCreateTransaction()"
            [columns]="columns"
            [displayedColumns]="columns"
            [data]="data"
            [headersColumns]="['Transaction Name', 'Amount', 'Quantity/Kg', 'Total Amount', 'Date', 'Actions']"
            [pageSize]="pageSize"
            [resultsLength]="resultsLength"
            [isLoadingResults]="isLoadingResults"
            [showSearch]="true"
            [showActions]="true"
            (search)="onTableSearch($event)"
            (pageChange)="onTablePage($event)"
            (sortChange)="onTableSort($event)">
        </app-common-table>
    </mat-card-content>
</mat-card> -->

  <div class="col-lg-6 p-l-2 search">
    <mat-form-field appearance="outline" class="w-100">
      <input matInput (keyup)="onTableSearch($event)" [value]="currentSearchQuery" placeholder="Search..." />
    </mat-form-field>
    <button mat-mini-fab color="primary" (click)="openAddTransactionModal()">
      <mat-icon>add</mat-icon>
    </button>
  </div>
<div class="card-container">
  @for (transaction of data; track $index) {
  <mat-card class="transaction-card">
    <!-- <mat-card-header>
      <mat-card-title>{{ transaction.transaction_name | titlecase}}</mat-card-title>
      <mat-card-subtitle>{{ transaction.updated_at | date:'medium' }}</mat-card-subtitle>
    </mat-card-header> -->


<div class="header">
      <mat-card-header>
        <mat-card-title>{{ transaction.transaction_name | titlecase}}</mat-card-title>
        <mat-card-subtitle>{{ transaction.updated_at | date: 'medium' }}</mat-card-subtitle>


      </mat-card-header>
      <ng-container>
        <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
          <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item (click)="openDialog(transaction)">
            <mat-icon>edit</mat-icon>
            <span>Edit</span>
          </button>
          <button mat-menu-item (click)="openConfirmDialog(transaction)">
            <mat-icon>delete</mat-icon>
            <span>Delete</span>
          </button>
        </mat-menu>
      </ng-container>
    </div>



    <mat-card-content>
      <div class="transaction-details">
        <p class="transaction-amount" [class.negative]="true">
          {{ transaction.total_amount | currency: 'INR' }}
        </p>
      </div>
    </mat-card-content>
  </mat-card>
  }
</div>
@if(data.length) {
<mat-paginator [hidePageSize]="true" class="m-t-4" (page)="onTablePage({ pageIndex: $event.pageIndex, pageSize: $event.pageSize })" [length]="resultsLength"
  [pageSize]="pageSize" showFirstLastButtons></mat-paginator>
}
@else { 
    No Data Found
}
